name = "email-viewer"
main = "src/workers/email-viewer.js"
compatibility_date = "2024-09-01"
compatibility_flags = ["nodejs_compat"]

routes = [
  { pattern = "emails.chitty.cc/*", zone_name = "chitty.cc" }
]

[[r2_buckets]]
binding = "EMAIL_INTAKE"
bucket_name = "chitty-email-intake"

[env.production]
name = "email-viewer-production"
routes = [
  { pattern = "emails.chitty.cc/*", zone_name = "chitty.cc" }
]

[[env.production.r2_buckets]]
binding = "EMAIL_INTAKE"
bucket_name = "chitty-email-intake"